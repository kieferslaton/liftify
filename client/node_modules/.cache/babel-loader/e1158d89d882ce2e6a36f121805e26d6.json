{"ast":null,"code":"var _jsxFileName = \"/Users/kieferslaton/workout/client/src/components/Register.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Form, Button, Spinner } from 'react-bootstrap';\nimport axios from 'axios';\n\nconst Register = ({\n  handleSuccessfulLogin\n}) => {\n  const [username, setUsername] = useState();\n  const [password, setPassword] = useState();\n  const [password2, setPassword2] = useState();\n  const [usernameError, setUsernameError] = useState(false);\n  const [passwordError, setPasswordError] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [users, setUsers] = useState([]);\n  useEffect(() => {\n    axios.get('/users').then(res => {\n      setUsers(res.data);\n    }).catch(err => console.log(err));\n  }, []);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    setLoading(true);\n\n    if (password !== password2) {\n      setPasswordError(true);\n      return;\n    } else {\n      setPasswordError(false);\n      axios.post('/users/signup', {\n        username: username,\n        password: password,\n        password2: password2\n      }).then(res => {\n        console.log(res.data);\n        handleSuccessfulLogin(res.data);\n        setLoading(false);\n      }).catch(err => console.log(err.status));\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(Form, {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"formUsername\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 17\n    }\n  }, \"Username\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"text\",\n    value: username,\n    onChange: e => {\n      setUsername(e.target.value);\n\n      if (users.find(user => user.username === e.target.value)) {\n        setUsernameError(true);\n      } else {\n        setUsernameError(false);\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Form.Text, {\n    className: `${usernameError ? '' : 'd-none'} text-muted`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 17\n    }\n  }, \"Username already taken.\")), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"formPassword\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"password\",\n    value: password,\n    onChange: e => setPassword(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"formPassword2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }\n  }, \"Re-Enter Password\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"password\",\n    value: password2,\n    onChange: e => setPassword2(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Form.Text, {\n    className: `${passwordError ? '' : 'd-none'} text-muted`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }\n  }, \"Passwords don't match. \")), /*#__PURE__*/React.createElement(Button, {\n    className: \"accent\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }, loading ? /*#__PURE__*/React.createElement(Spinner, {\n    animation: \"border\",\n    size: \"sm\",\n    as: \"span\",\n    role: \"status\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 28\n    }\n  }) : 'Register'));\n};\n\nexport default Register;","map":{"version":3,"sources":["/Users/kieferslaton/workout/client/src/components/Register.js"],"names":["React","useState","useEffect","Form","Button","Spinner","axios","Register","handleSuccessfulLogin","username","setUsername","password","setPassword","password2","setPassword2","usernameError","setUsernameError","passwordError","setPasswordError","loading","setLoading","users","setUsers","get","then","res","data","catch","err","console","log","handleSubmit","e","preventDefault","post","status","target","value","find","user"],"mappings":"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","sourcesContent":["import React, { useState, useEffect} from 'react';\nimport { Form, Button, Spinner} from 'react-bootstrap'\nimport axios from 'axios'\n\nconst Register = ({handleSuccessfulLogin}) => {\n    const [username, setUsername] = useState()\n    const [password, setPassword] = useState()\n    const [password2, setPassword2] = useState()\n    const [usernameError, setUsernameError] = useState(false)\n    const [passwordError, setPasswordError] = useState(false)\n    const [loading, setLoading] = useState(false)\n\n    const [users, setUsers] = useState([]) \n    \n    useEffect(() => {\n        axios.get('/users').then(res => {\n            setUsers(res.data)\n        }).catch(err => console.log(err))\n    }, [])\n\n    const handleSubmit = (e) => {\n        e.preventDefault()\n        setLoading(true)\n        if(password !== password2){\n            setPasswordError(true)\n            return\n        } else {\n            setPasswordError(false)\n        axios.post('/users/signup', {\n            username: username,\n            password: password,\n            password2: password2\n        }).then(res => {\n            console.log(res.data)\n            handleSuccessfulLogin(res.data)\n            setLoading(false)\n        }).catch(err => console.log(err.status))\n    }\n}\n\n    return(\n        <Form onSubmit={handleSubmit}>\n            <Form.Group controlId=\"formUsername\">\n                <Form.Label>Username</Form.Label>\n                <Form.Control type=\"text\" value={username} onChange={(e) => {\n                    setUsername(e.target.value)\n                    if(users.find(user => user.username === e.target.value)){\n                        setUsernameError(true)\n                    } else {\n                        setUsernameError(false)\n                    }\n                }} />\n                <Form.Text className={`${usernameError ? '' : 'd-none'} text-muted`}>Username already taken.</Form.Text>\n            </Form.Group>\n            <Form.Group controlId=\"formPassword\">\n                <Form.Label>Password</Form.Label>\n                <Form.Control type=\"password\" value={password} onChange={(e) => setPassword(e.target.value)} />\n            </Form.Group>\n            <Form.Group controlId=\"formPassword2\">\n                <Form.Label>Re-Enter Password</Form.Label>\n                <Form.Control type=\"password\" value={password2} onChange={(e) => setPassword2(e.target.value)} />\n                <Form.Text className={`${passwordError ? '' : 'd-none'} text-muted`}>Passwords don't match. </Form.Text>\n            </Form.Group>\n            <Button className=\"accent\" type=\"submit\">\n                {loading ? <Spinner animation=\"border\" size=\"sm\" as=\"span\" role=\"status\" /> : 'Register'}\n            </Button>\n        </Form>\n    )\n}\n\nexport default Register"]},"metadata":{},"sourceType":"module"}