{"ast":null,"code":"var _jsxFileName = \"/Users/kieferslaton/workout/client/src/App.js\";\nimport React, { useState, useEffect } from 'react';\nimport Cookies, { cookie } from 'js-cookie';\nimport axios from 'axios';\nimport { Container, Navbar, Nav, Button, Modal } from 'react-bootstrap';\nimport './App.css';\nimport Login from './components/Login';\n\nfunction App() {\n  const [isLogin, setIsLogin] = useState(false);\n  const [user, setUser] = useState();\n  const [token, setToken] = useState(Cookies.get('token'));\n  useEffect(() => {\n    if (token) {\n      const payload = {\n        headers: {\n          authorization: token\n        }\n      };\n      axios.post('/users/accounts', {}, payload).then(res => setUser(res.data)).catch(err => console.log(err.status));\n    }\n  });\n\n  const handleSuccessfulLogin = token => {\n    cookie.set('token', token);\n    const payload = {\n      headers: {\n        authorization: token\n      }\n    };\n    axios.post('/users/accounts', {}, payload).then(res => {\n      console.log(res.data);\n      setUser(res.data);\n    }).catch(err => console.log(err.status));\n  };\n\n  const handleLogout = token => {\n    cookie.remove('token', token);\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Container, {\n    style: {\n      maxWidth: 800\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Navbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Navbar.Brand, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }\n  }, \"Workout\"), /*#__PURE__*/React.createElement(Navbar.Collapse, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Nav, {\n    className: \"ml-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }\n  }, user ? /*#__PURE__*/React.createElement(Button, {\n    onClick: () => handleLogout,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 11\n    }\n  }, \"Logout\") : /*#__PURE__*/React.createElement(Button, {\n    onClick: () => setIsLogin(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 11\n    }\n  }, \"Login\")))), /*#__PURE__*/React.createElement(React.Fragment, null, user ? /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  }, \"Logged in as \", JSON.stringify(user)) : /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }, \"No login found\"))), /*#__PURE__*/React.createElement(Modal, {\n    show: isLogin,\n    onHide: () => setIsLogin(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Header, {\n    closeButton: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }, \"Login\"), /*#__PURE__*/React.createElement(Modal.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Login, {\n    handleSuccessfulLogin: handleSuccessfulLogin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }))));\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/kieferslaton/workout/client/src/App.js"],"names":["React","useState","useEffect","Cookies","cookie","axios","Container","Navbar","Nav","Button","Modal","Login","App","isLogin","setIsLogin","user","setUser","token","setToken","get","payload","headers","authorization","post","then","res","data","catch","err","console","log","status","handleSuccessfulLogin","set","handleLogout","remove","maxWidth","JSON","stringify"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Cookies, { cookie } from 'js-cookie'\nimport axios from 'axios'\nimport { Container, Navbar, Nav, Button, Modal } from 'react-bootstrap'\nimport './App.css';\n\nimport Login from './components/Login'\n\nfunction App() {\n  const [isLogin, setIsLogin] = useState(false)\n  const [user, setUser] = useState()\n  const [token, setToken] =useState(Cookies.get('token'))\n\n  useEffect(() => {\n    if(token){\n      const payload = {headers: { authorization: token}}\n      axios.post('/users/accounts', {}, payload).then(res => setUser(res.data)).catch(err => console.log(err.status))\n    }\n  })\n\n  const handleSuccessfulLogin = (token) => {\n    cookie.set('token', token)\n    const payload = {headers: {authorization: token}}\n    axios.post('/users/accounts', {}, payload).then(res => {\n      console.log(res.data)\n      setUser(res.data)\n    }).catch(err => console.log(err.status))\n  }\n\n  const handleLogout = (token) => {\n      cookie.remove('token', token)\n  }\n\n  return (\n    <>\n    <Container style={{maxWidth: 800}}>\n      <Navbar>\n        <Navbar.Brand>Workout</Navbar.Brand>\n        <Navbar.Collapse>\n        <Nav className=\"ml-auto\">\n          {user ?\n          <Button onClick={() => handleLogout}>Logout</Button>:\n          <Button onClick={() => setIsLogin(true)}>Login</Button>\n}     \n        </Nav>\n        </Navbar.Collapse>\n      </Navbar>\n      <>\n      {user ?\n      <p>Logged in as {JSON.stringify(user)}</p> :\n      <p>No login found</p>}\n      </>\n    </Container>\n    <Modal show={isLogin} onHide={() => setIsLogin(false)}>\n      <Modal.Header closeButton>Login</Modal.Header>\n      <Modal.Body>\n        <Login handleSuccessfulLogin={handleSuccessfulLogin} />\n      </Modal.Body>\n    </Modal>\n    </>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}