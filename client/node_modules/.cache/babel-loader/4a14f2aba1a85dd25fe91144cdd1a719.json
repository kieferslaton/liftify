{"ast":null,"code":"var _jsxFileName = \"/Users/kieferslaton/workout/client/src/App.js\";\nimport React, { useState, useEffect } from 'react';\nimport Cookies from 'js-cookie';\nimport axios from 'axios';\nimport { Container, Navbar, Nav, Button, Modal } from 'react-bootstrap';\nimport './App.scss';\nimport Login from './components/Login';\nimport Register from './components/Register';\nimport Workout from './components/Workout';\n\nfunction App() {\n  const [isLogin, setIsLogin] = useState(false);\n  const [isRegister, setIsRegister] = useState(false);\n  const [user, setUser] = useState();\n  const [token, setToken] = useState(Cookies.get('token'));\n  useEffect(() => {\n    if (token) {\n      console.log('token found');\n      const payload = {\n        headers: {\n          authorization: token\n        }\n      };\n      axios.post('/users/accounts', {}, payload).then(res => setUser(res.data)).catch(err => console.log(err.status));\n    }\n  }, []);\n\n  const handleSuccessfulLogin = token => {\n    const payload = {\n      headers: {\n        authorization: token\n      }\n    };\n    axios.post('/users/accounts', {}, payload).then(res => {\n      console.log(res.data);\n      setUser(res.data);\n      setIsLogin(false);\n      setIsRegister(false);\n      Cookies.set('token', token);\n    }).catch(err => console.log(err.status));\n  };\n\n  const handleLogout = token => {\n    setUser('');\n    Cookies.remove('token', token);\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Navbar, {\n    variant: \"dark\",\n    className: \"navbar mx-0 pr-0 py-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Navbar.Brand, {\n    className: \"font-weight-bold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }, \"Workout\"), /*#__PURE__*/React.createElement(Navbar.Collapse, {\n    className: \"mx-0 py-0 my-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Nav, {\n    className: \"ml-auto my-0 py-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }, user ? /*#__PURE__*/React.createElement(Button, {\n    className: \"nav-button my-0\",\n    onClick: () => handleLogout(token),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 11\n    }\n  }, \"Logout\") : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n    className: \"nav-button my-0\",\n    onClick: () => setIsLogin(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 11\n    }\n  }, \"Login\"), /*#__PURE__*/React.createElement(Button, {\n    className: \"nav-button my-0\",\n    onClick: () => setIsRegister(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 11\n    }\n  }, \"Register\"))))), /*#__PURE__*/React.createElement(Container, {\n    style: {\n      maxWidth: 800\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(React.Fragment, null, user ? /*#__PURE__*/React.createElement(Workout, {\n    user: user,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }) : /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }, \"No login found\"))), /*#__PURE__*/React.createElement(Modal, {\n    show: isLogin,\n    onHide: () => setIsLogin(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Header, {\n    closeButton: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }, \"Login\"), /*#__PURE__*/React.createElement(Modal.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Login, {\n    handleSuccessfulLogin: handleSuccessfulLogin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }))), /*#__PURE__*/React.createElement(Modal, {\n    show: isRegister,\n    onHide: () => setIsRegister(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Header, {\n    closeButton: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }\n  }, \"Register\"), /*#__PURE__*/React.createElement(Modal.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Register, {\n    handleSuccessfulLogin: handleSuccessfulLogin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }))));\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/kieferslaton/workout/client/src/App.js"],"names":["React","useState","useEffect","Cookies","axios","Container","Navbar","Nav","Button","Modal","Login","Register","Workout","App","isLogin","setIsLogin","isRegister","setIsRegister","user","setUser","token","setToken","get","console","log","payload","headers","authorization","post","then","res","data","catch","err","status","handleSuccessfulLogin","set","handleLogout","remove","maxWidth"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Cookies from 'js-cookie'\nimport axios from 'axios'\nimport { Container, Navbar, Nav, Button, Modal } from 'react-bootstrap'\nimport './App.scss';\n\nimport Login from './components/Login'\nimport Register from './components/Register'\nimport Workout from './components/Workout'\n\nfunction App() {\n  const [isLogin, setIsLogin] = useState(false)\n  const [isRegister, setIsRegister] = useState(false)\n  const [user, setUser] = useState()\n  const [token, setToken] =useState(Cookies.get('token'))\n\n  useEffect(() => {\n    if(token){\n      console.log('token found')\n      const payload = {headers: { authorization: token}}\n      axios.post('/users/accounts', {}, payload).then(res => setUser(res.data)).catch(err => console.log(err.status))\n    }\n  }, [])\n\n  const handleSuccessfulLogin = (token) => {\n    const payload = {headers: {authorization: token}}\n    axios.post('/users/accounts', {}, payload).then(res => {\n      console.log(res.data)\n      setUser(res.data)\n      setIsLogin(false)\n      setIsRegister(false)\n      Cookies.set('token', token)\n    }).catch(err => console.log(err.status))\n  }\n\n  const handleLogout = (token) => {\n      setUser('')\n      Cookies.remove('token', token)\n  }\n\n  return (\n    <>\n    <Navbar variant=\"dark\" className=\"navbar mx-0 pr-0 py-0\">\n        <Navbar.Brand className=\"font-weight-bold\">Workout</Navbar.Brand>\n        <Navbar.Collapse className=\"mx-0 py-0 my-0\">\n        <Nav className=\"ml-auto my-0 py-0\">\n          {user ?\n          <Button className=\"nav-button my-0\" onClick={() => handleLogout(token)}>Logout</Button>:\n          <>\n          <Button className=\"nav-button my-0\" onClick={() => setIsLogin(true)}>Login</Button>\n          <Button className=\"nav-button my-0\" onClick={() => setIsRegister(true)}>Register</Button>\n          </>\n}     \n        </Nav>\n        </Navbar.Collapse>\n      </Navbar>\n    <Container style={{maxWidth: 800}}>\n      <>\n      {user ?\n      <Workout user={user} />:\n      <p>No login found</p>}\n      </>\n    </Container>\n    <Modal show={isLogin} onHide={() => setIsLogin(false)}>\n      <Modal.Header closeButton>Login</Modal.Header>\n      <Modal.Body>\n        <Login handleSuccessfulLogin={handleSuccessfulLogin} />\n      </Modal.Body>\n    </Modal>\n    <Modal show={isRegister} onHide={() => setIsRegister(false)}>\n      <Modal.Header closeButton>Register</Modal.Header>\n      <Modal.Body>\n        <Register handleSuccessfulLogin={handleSuccessfulLogin}/>\n      </Modal.Body>\n    </Modal>\n    </>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}