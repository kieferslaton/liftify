{"ast":null,"code":"var _jsxFileName = \"/Users/kieferslaton/workout/client/src/components/Workout.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Container, Row, Col } from 'react-bootstrap';\nimport axios from 'axios';\nimport moment from 'moment';\nimport PlanForm from './PlanForm';\n\nconst Workout = ({\n  user\n}) => {\n  const [plan, setPlan] = useState();\n  const [dailyWorkout, setDailyWorkout] = useState();\n  useEffect(() => {\n    axios.get('/plans').then(res => {\n      let userPlan = res.data.filter(plan => plan.user === user.username);\n      console.log(userPlan);\n      if (userPlan.length > 0) setPlan(userPlan[0]);\n    });\n  }, []);\n\n  const passUpPlan = plan => {\n    setPlan(plan);\n  };\n\n  const renderWeeks = () => {\n    let startDate = moment(plan.startDate).add(12, 'hours');\n    console.log(startDate.format(''));\n    console.log(moment(startDate).format('d'));\n    let rows = [];\n    rows.push( /*#__PURE__*/React.createElement(Row, {\n      className: \"my-3 justify-content-center text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 76\n      }\n    }, \"Mesocycle 1\")));\n\n    const daysRow = () => {\n      let row = [];\n\n      for (let i = 0; i < 7; i++) {\n        row.push( /*#__PURE__*/React.createElement(Col, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 34,\n            columnNumber: 26\n          }\n        }, moment(startDate).startOf('week').add(i, 'days').format('dd')));\n      }\n\n      return /*#__PURE__*/React.createElement(Row, {\n        className: \"my-3 justify-content-center text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 21\n        }\n      }, row);\n    };\n\n    rows.push(daysRow());\n\n    for (let i = 0; i < 5; i++) {\n      let sundayOfWeek = moment(startDate).format('d') === 0 ? moment(startDate) : moment(startDate).startOf('week').add(i * 7, 'days');\n      let weekRow = [];\n\n      for (let j = 0; j < 7; j++) {\n        let workoutDay = moment(sundayOfWeek).add(j, 'days').format('YYYY-MM-DD');\n        plan.days.filter(day => day.date === workoutDay).length > 0 ? weekRow.push( /*#__PURE__*/React.createElement(Col, {\n          className: \"loaded-day\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 30\n          }\n        }, moment(workoutDay).format('MM/DD'))) : weekRow.push( /*#__PURE__*/React.createElement(Col, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 30\n          }\n        }, moment(workoutDay).format('MM/DD')));\n      }\n\n      rows.push( /*#__PURE__*/React.createElement(Row, {\n        className: \"my-3 justify-content-center text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 23\n        }\n      }, weekRow));\n      weekRow = [];\n    }\n\n    return rows;\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, plan ? /*#__PURE__*/React.createElement(React.Fragment, null, dailyWorkout ? JSON.stringify(dailyWorkout) : renderWeeks()) : /*#__PURE__*/React.createElement(PlanForm, {\n    user: user,\n    passUpPlan: passUpPlan,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }\n  }));\n};\n\nexport default Workout;","map":{"version":3,"sources":["/Users/kieferslaton/workout/client/src/components/Workout.js"],"names":["React","useState","useEffect","Container","Row","Col","axios","moment","PlanForm","Workout","user","plan","setPlan","dailyWorkout","setDailyWorkout","get","then","res","userPlan","data","filter","username","console","log","length","passUpPlan","renderWeeks","startDate","add","format","rows","push","daysRow","row","i","startOf","sundayOfWeek","weekRow","j","workoutDay","days","day","date","JSON","stringify"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { Container, Row, Col } from 'react-bootstrap'\nimport axios from 'axios'\nimport moment from 'moment'\n\nimport PlanForm from './PlanForm'\n\nconst Workout = ({user}) => {\n    const [plan, setPlan] = useState()\n    const [dailyWorkout, setDailyWorkout] = useState()\n\n    useEffect(() => {\n        axios.get('/plans').then(res => {\n            let userPlan = res.data.filter(plan => plan.user === user.username)\n            console.log(userPlan)\n            if(userPlan.length > 0) setPlan(userPlan[0])\n        })\n    }, [])\n\n    const passUpPlan = (plan) => {\n        setPlan(plan)\n    }\n\n    const renderWeeks = () => {\n        let startDate = moment(plan.startDate).add(12, 'hours')\n        console.log(startDate.format(''))\n        console.log(moment(startDate).format('d'))\n        let rows =[]\n        rows.push(<Row className=\"my-3 justify-content-center text-center\"><Col>Mesocycle 1</Col></Row>)\n        \n        const daysRow = () => {\n            let row = []\n            for (let i = 0; i < 7; i++){\n                row.push(<Col>{moment(startDate).startOf('week').add(i, 'days').format('dd')}</Col>)\n            }\n            return (<Row className=\"my-3 justify-content-center text-center\">{row}</Row>)\n        }\n\n        rows.push(daysRow())\n\n        for (let i = 0; i < 5; i ++){\n            let sundayOfWeek = moment(startDate).format('d') === 0 ? moment(startDate) : moment(startDate).startOf('week').add(i*7, 'days')\n            let weekRow = []\n            for (let j = 0; j < 7; j++){\n                let workoutDay = moment(sundayOfWeek).add(j, 'days').format('YYYY-MM-DD')\n                plan.days.filter(day => day.date === workoutDay).length > 0 ? \n                weekRow.push(<Col className=\"loaded-day\">{moment(workoutDay).format('MM/DD')}</Col>) : \n                weekRow.push(<Col>{moment(workoutDay).format('MM/DD')}</Col>)\n            }\n            rows.push(<Row className=\"my-3 justify-content-center text-center\">{weekRow}</Row>)\n            weekRow = []\n        }\n        return (rows)\n    }\n\n    return (\n        <>{plan?\n            <>\n            {dailyWorkout ?\n            JSON.stringify(dailyWorkout) : \n            renderWeeks()}\n            </>:\n            <PlanForm user={user} passUpPlan={passUpPlan} />}\n        </>\n    )\n}\n\nexport default Workout"]},"metadata":{},"sourceType":"module"}