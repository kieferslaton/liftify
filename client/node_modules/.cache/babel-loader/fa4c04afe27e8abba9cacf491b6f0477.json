{"ast":null,"code":"var _jsxFileName = \"/Users/kieferslaton/workout/client/src/App.js\";\nimport React, { useState, useEffect } from 'react';\nimport Cookies from 'js-cookie';\nimport axios from 'axios';\nimport { Container, Navbar, Nav, Button, Modal } from 'react-bootstrap';\nimport './App.scss';\nimport logo from './logo.png';\nimport Login from './components/Login';\nimport Register from './components/Register';\nimport Workout from './components/Workout';\nimport FrontPage from './components/FrontPage';\n\nfunction App() {\n  const [isLogin, setIsLogin] = useState(false);\n  const [isRegister, setIsRegister] = useState(false);\n  const [user, setUser] = useState();\n  const [token, setToken] = useState(Cookies.get('token'));\n  useEffect(() => {\n    if (token) {\n      console.log('token found');\n      const payload = {\n        headers: {\n          authorization: token\n        }\n      };\n      axios.post('/users/accounts', {}, payload).then(res => setUser(res.data)).catch(err => console.log(err.status));\n    }\n  }, []);\n\n  const handleSuccessfulLogin = token => {\n    const payload = {\n      headers: {\n        authorization: token\n      }\n    };\n    axios.post('/users/accounts', {}, payload).then(res => {\n      console.log(res.data);\n      setUser(res.data);\n      setIsLogin(false);\n      setIsRegister(false);\n      Cookies.set('token', token);\n    }).catch(err => console.log(err.status));\n  };\n\n  const handleLogout = token => {\n    setUser('');\n    Cookies.remove('token', token);\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Navbar, {\n    variant: \"dark\",\n    className: \"navbar mx-0 pr-0 py-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Navbar.Brand, {\n    className: \"font-weight-bold p-0 my-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"logo\",\n    src: logo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 61\n    }\n  })), /*#__PURE__*/React.createElement(Navbar.Collapse, {\n    className: \"mx-0 py-0 my-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Nav, {\n    className: \"ml-auto my-0 py-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }, user ? /*#__PURE__*/React.createElement(Button, {\n    className: \"nav-button my-0\",\n    onClick: () => handleLogout(token),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 11\n    }\n  }, \"Logout\") : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n    className: \"nav-button my-0\",\n    onClick: () => setIsLogin(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 11\n    }\n  }, \"Login\"), /*#__PURE__*/React.createElement(Button, {\n    className: \"nav-button my-0\",\n    onClick: () => setIsRegister(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 11\n    }\n  }, \"Register\"))))), /*#__PURE__*/React.createElement(Container, {\n    className: \"w-100 mw-100 m-0 p-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 5\n    }\n  }, user ? /*#__PURE__*/React.createElement(Workout, {\n    user: user,\n    style: {\n      maxWidth: 800\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }) : /*#__PURE__*/React.createElement(FrontPage, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  })), /*#__PURE__*/React.createElement(Modal, {\n    show: isLogin,\n    onHide: () => setIsLogin(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Header, {\n    closeButton: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"header p-0 m-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 33\n    }\n  }, \"Login\")), /*#__PURE__*/React.createElement(Modal.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Login, {\n    handleSuccessfulLogin: handleSuccessfulLogin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }))), /*#__PURE__*/React.createElement(Modal, {\n    show: isRegister,\n    onHide: () => setIsRegister(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Header, {\n    closeButton: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"header p-0 m-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 33\n    }\n  }, \"Register\")), /*#__PURE__*/React.createElement(Modal.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Register, {\n    handleSuccessfulLogin: handleSuccessfulLogin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }))));\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/kieferslaton/workout/client/src/App.js"],"names":["React","useState","useEffect","Cookies","axios","Container","Navbar","Nav","Button","Modal","logo","Login","Register","Workout","FrontPage","App","isLogin","setIsLogin","isRegister","setIsRegister","user","setUser","token","setToken","get","console","log","payload","headers","authorization","post","then","res","data","catch","err","status","handleSuccessfulLogin","set","handleLogout","remove","maxWidth"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Cookies from 'js-cookie'\nimport axios from 'axios'\nimport { Container, Navbar, Nav, Button, Modal } from 'react-bootstrap'\nimport './App.scss';\nimport logo from './logo.png'\n\nimport Login from './components/Login'\nimport Register from './components/Register'\nimport Workout from './components/Workout'\nimport FrontPage from './components/FrontPage'\n\nfunction App() {\n  const [isLogin, setIsLogin] = useState(false)\n  const [isRegister, setIsRegister] = useState(false)\n  const [user, setUser] = useState()\n  const [token, setToken] =useState(Cookies.get('token'))\n\n  useEffect(() => {\n    if(token){\n      console.log('token found')\n      const payload = {headers: { authorization: token}}\n      axios.post('/users/accounts', {}, payload).then(res => setUser(res.data)).catch(err => console.log(err.status))\n    }\n  }, [])\n\n  const handleSuccessfulLogin = (token) => {\n    const payload = {headers: {authorization: token}}\n    axios.post('/users/accounts', {}, payload).then(res => {\n      console.log(res.data)\n      setUser(res.data)\n      setIsLogin(false)\n      setIsRegister(false)\n      Cookies.set('token', token)\n    }).catch(err => console.log(err.status))\n  }\n\n  const handleLogout = (token) => {\n      setUser('')\n      Cookies.remove('token', token)\n  }\n\n  return (\n    <>\n    <Navbar variant=\"dark\" className=\"navbar mx-0 pr-0 py-0\">\n        <Navbar.Brand className=\"font-weight-bold p-0 my-0\"><img className='logo' src={logo} /></Navbar.Brand>\n        <Navbar.Collapse className=\"mx-0 py-0 my-0\">\n        <Nav className=\"ml-auto my-0 py-0\">\n          {user ?\n          <Button className=\"nav-button my-0\" onClick={() => handleLogout(token)}>Logout</Button>:\n          <>\n          <Button className=\"nav-button my-0\" onClick={() => setIsLogin(true)}>Login</Button>\n          <Button className=\"nav-button my-0\" onClick={() => setIsRegister(true)}>Register</Button>\n          </>\n}     \n        </Nav>\n        </Navbar.Collapse>\n      </Navbar>\n    <Container className=\"w-100 mw-100 m-0 p-0\">\n      {user ?\n      <Workout user={user} style={{maxWidth: 800}} />:\n      <FrontPage />}\n    </Container>\n    <Modal show={isLogin} onHide={() => setIsLogin(false)}>\n      <Modal.Header closeButton><h3 className=\"header p-0 m-0\">Login</h3></Modal.Header>\n      <Modal.Body>\n        <Login handleSuccessfulLogin={handleSuccessfulLogin} />\n      </Modal.Body>\n    </Modal>\n    <Modal show={isRegister} onHide={() => setIsRegister(false)}>\n      <Modal.Header closeButton><h3 className=\"header p-0 m-0\">Register</h3></Modal.Header>\n      <Modal.Body>\n        <Register handleSuccessfulLogin={handleSuccessfulLogin}/>\n      </Modal.Body>\n    </Modal>\n    </>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}